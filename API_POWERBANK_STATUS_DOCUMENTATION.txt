API –î–õ–Ø –°–¢–ê–¢–£–°–û–í –ü–û–í–ï–†–ë–ê–ù–ö–û–í
============================

–û–ü–ò–°–ê–ù–ò–ï
--------
API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –ø–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è v_powerbank_status.
–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∏ —Å –∏—Ö —Ç–µ–∫—É—â–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

–°–¢–ê–¢–£–°–´ –ü–û–í–ï–†–ë–ê–ù–ö–û–í
------------------
- **in_station** - –ø–æ–≤–µ—Ä–±–∞–Ω–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Å—Ç–∞–Ω—Ü–∏–∏
- **in_use** - –ø–æ–≤–µ—Ä–±–∞–Ω–∫ –≤–∑—è—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (—Å—Ç–∞—Ç—É—Å 'borrow' –≤ orders)
- **not_returned** - –ø–æ–≤–µ—Ä–±–∞–Ω–∫ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω –≤ —Ç–µ—á–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 24 —á–∞—Å–∞)

–õ–û–ì–ò–ö–ê –û–ü–†–ï–î–ï–õ–ï–ù–ò–Ø –°–¢–ê–¢–£–°–ê
--------------------------
–°—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
1. –ï—Å–ª–∏ –ø–æ–≤–µ—Ä–±–∞–Ω–∫ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ station_powerbank ‚Üí 'in_station'
2. –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–∫–∞–∑ (status='borrow', completed_at=NULL) –∏ –ø—Ä–æ—à–ª–æ –±–æ–ª—å—à–µ reminder_hours —á–∞—Å–æ–≤ ‚Üí 'not_returned'
3. –ï—Å–ª–∏ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∑–∞–∫–∞–∑ (status='borrow', completed_at=NULL) –∏ –ø—Ä–æ—à–ª–æ –º–µ–Ω—å—à–µ reminder_hours —á–∞—Å–æ–≤ ‚Üí 'in_use'
4. –ò–Ω–∞—á–µ ‚Üí 'in_station'

ENDPOINTS
=========

–ü–†–ò–ú–ï–ß–ê–ù–ò–ï: API –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–∞–∫ –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã (/api/powerbanks-status), —Ç–∞–∫ –∏ —Å—Ç–∞—Ä—ã–µ (/api/powerbanks/status) –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

1. GET /api/powerbanks-status - –ü–æ–ª—É—á–∏—Ç—å –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∏ —Å –∏—Ö —Å—Ç–∞—Ç—É—Å–∞–º–∏
----------------------------------------------------------------

–û–ü–ò–°–ê–ù–ò–ï: –ü–æ–ª—É—á–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ —Å –∏—Ö —Ç–µ–∫—É—â–∏–º–∏ —Å—Ç–∞—Ç—É—Å–∞–º–∏

–ó–ê–ü–†–û–°:
- –ú–µ—Ç–æ–¥: GET
- URL: /api/powerbanks-status
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
  * status (string, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É ('in_station', 'in_use', 'not_returned')
  * org_unit_id (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ
  * page (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1)
  * limit (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50, –º–∞–∫—Å–∏–º—É–º 100)

–ü–†–ò–ú–ï–†–´ –ó–ê–ü–†–û–°–û–í:
- GET /api/powerbanks-status
- GET /api/powerbanks-status?status=in_use
- GET /api/powerbanks-status?status=not_returned&org_unit_id=1
- GET /api/powerbanks-status?page=2&limit=20

–û–¢–í–ï–¢:
- –°—Ç–∞—Ç—É—Å: 200 OK (—É—Å–ø–µ—Ö) –∏–ª–∏ 400 Bad Request (–æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- Content-Type: application/json

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—É—Å–ø–µ—Ö):
{
  "success": true,
  "data": [
    {
      "powerbank_id": 52,
      "serial_number": "DCHA54000009",
      "status": "in_station",
      "station_id": 13,
      "user_id": null,
      "borrow_time": null,
      "completed_at": null,
      "station_name": "Station-001",
      "user_name": null,
      "user_phone": null,
      "user_email": null,
      "org_unit_name": "–ì—Ä—É–ø–ø–∞ –ê"
    },
    {
      "powerbank_id": 53,
      "serial_number": "DCHA54000019",
      "status": "in_use",
      "station_id": null,
      "user_id": 18,
      "borrow_time": "2025-10-08T22:31:20",
      "completed_at": null,
      "station_name": null,
      "user_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
      "user_phone": "+79001234567",
      "user_email": "ivan@example.com",
      "org_unit_name": "–ì—Ä—É–ø–ø–∞ –ê"
    },
    {
      "powerbank_id": 54,
      "serial_number": "DCHA54000015",
      "status": "not_returned",
      "station_id": null,
      "user_id": 18,
      "borrow_time": "2025-10-08T22:31:31",
      "completed_at": null,
      "station_name": null,
      "user_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á",
      "user_phone": "+79001234567",
      "user_email": "ivan@example.com",
      "org_unit_name": "–ì—Ä—É–ø–ø–∞ –ê"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 50,
    "total": 3,
    "total_pages": 1,
    "has_next": false,
    "has_prev": false
  },
  "filters": {
    "status": null,
    "org_unit_id": null
  }
}

–ü–û–õ–Ø –û–¢–í–ï–¢–ê:
- powerbank_id (int): ID –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞
- serial_number (string): –°–µ—Ä–∏–π–Ω—ã–π –Ω–æ–º–µ—Ä –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞
- status (string): –°—Ç–∞—Ç—É—Å –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞ ('in_station', 'in_use', 'not_returned')
- station_id (int|null): ID —Å—Ç–∞–Ω—Ü–∏–∏, –≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ø–æ–≤–µ—Ä–±–∞–Ω–∫ (null –µ—Å–ª–∏ –Ω–µ –≤ —Å—Ç–∞–Ω—Ü–∏–∏)
- user_id (int|null): ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∫–æ—Ç–æ—Ä—ã–π –≤–∑—è–ª –ø–æ–≤–µ—Ä–±–∞–Ω–∫ (null –µ—Å–ª–∏ –Ω–µ –≤–∑—è—Ç)
- borrow_time (string|null): –í—Ä–µ–º—è –≤–∑—è—Ç–∏—è –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (null –µ—Å–ª–∏ –Ω–µ –≤–∑—è—Ç)
- completed_at (string|null): –í—Ä–µ–º—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO 8601 (null –µ—Å–ª–∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω)
- station_name (string|null): –ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞–Ω—Ü–∏–∏ (box_id) (null –µ—Å–ª–∏ –Ω–µ –≤ —Å—Ç–∞–Ω—Ü–∏–∏)
- user_name (string|null): –§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (null –µ—Å–ª–∏ –Ω–µ –≤–∑—è—Ç)
- user_phone (string|null): –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (null –µ—Å–ª–∏ –Ω–µ –≤–∑—è—Ç)
- user_email (string|null): Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (null –µ—Å–ª–∏ –Ω–µ –≤–∑—è—Ç)
- org_unit_name (string|null): –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã/–ø–æ–¥–≥—Ä—É–ø–ø—ã –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞

–û–®–ò–ë–ö–ò:
- 400: "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å—Ç–∞—Ç—É—Å. –î–æ—Å—Ç—É–ø–Ω—ã–µ: in_station, in_use, not_returned"
- 400: "org_unit_id –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º"

2. GET /api/powerbanks-status/summary - –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
----------------------------------------------------------------

–û–ü–ò–°–ê–ù–ò–ï: –ü–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–¥–∫—É –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ –≤ –∫–∞–∂–¥–æ–º —Å—Ç–∞—Ç—É—Å–µ

–ó–ê–ü–†–û–°:
- –ú–µ—Ç–æ–¥: GET
- URL: /api/powerbanks-status/summary
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:
  * org_unit_id (int, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø–ø–µ

–ü–†–ò–ú–ï–†–´ –ó–ê–ü–†–û–°–û–í:
- GET /api/powerbanks-status/summary
- GET /api/powerbanks-status/summary?org_unit_id=1

–û–¢–í–ï–¢:
- –°—Ç–∞—Ç—É—Å: 200 OK (—É—Å–ø–µ—Ö) –∏–ª–∏ 400 Bad Request (–æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- Content-Type: application/json

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—É—Å–ø–µ—Ö):
{
  "success": true,
  "data": {
    "in_station": 1,
    "in_use": 1,
    "not_returned": 1
  },
  "filters": {
    "org_unit_id": null
  }
}

–û–®–ò–ë–ö–ò:
- 400: "org_unit_id –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º"

3. GET /api/powerbanks-status/{powerbank_id} - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–æ–≤–µ—Ä–±–∞–Ω–∫
-------------------------------------------------------------------------

–û–ü–ò–°–ê–ù–ò–ï: –ü–æ–ª—É—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –ø–æ–≤–µ—Ä–±–∞–Ω–∫–µ —Å –µ–≥–æ —Å—Ç–∞—Ç—É—Å–æ–º

–ó–ê–ü–†–û–°:
- –ú–µ—Ç–æ–¥: GET
- URL: /api/powerbanks-status/{powerbank_id}
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—É—Ç–∏:
  * powerbank_id (int) - ID –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞

–ü–†–ò–ú–ï–†–´ –ó–ê–ü–†–û–°–û–í:
- GET /api/powerbanks-status/52

–û–¢–í–ï–¢:
- –°—Ç–∞—Ç—É—Å: 200 OK (—É—Å–ø–µ—Ö) –∏–ª–∏ 404 Not Found (–ø–æ–≤–µ—Ä–±–∞–Ω–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω) –∏–ª–∏ 400 Bad Request (–æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏)
- Content-Type: application/json

–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (—É—Å–ø–µ—Ö):
{
  "success": true,
  "data": {
    "powerbank_id": 52,
    "serial_number": "DCHA54000009",
    "status": "in_station",
    "station_id": 13,
    "user_id": null,
    "borrow_time": null,
    "completed_at": null,
    "station_name": "Station-001",
    "user_name": null,
    "user_phone": null,
    "user_email": null,
    "org_unit_name": "–ì—Ä—É–ø–ø–∞ –ê"
  }
}

–û–®–ò–ë–ö–ò:
- 400: "–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ID –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞"
- 404: "–ü–æ–≤–µ—Ä–±–∞–Ω–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω"

–ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø –î–õ–Ø –§–†–û–ù–¢–ï–ù–î–ê
==================================

1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏:
```javascript
const response = await fetch('/api/powerbanks-status');
const data = await response.json();

if (data.success) {
  data.data.forEach(powerbank => {
    console.log(`–ü–æ–≤–µ—Ä–±–∞–Ω–∫ ${powerbank.serial_number}: ${powerbank.status}`);
  });
}
```

2. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∏ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏:
```javascript
const response = await fetch('/api/powerbanks-status?status=in_use');
const data = await response.json();

if (data.success) {
  console.log(`–ü–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏: ${data.data.length}`);
}
```

3. –ü–æ–ª—É—á–∏—Ç—å –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã:
```javascript
const response = await fetch('/api/powerbanks-status?status=not_returned');
const data = await response.json();

if (data.success) {
  data.data.forEach(powerbank => {
    console.log(`–ü–æ–≤–µ—Ä–±–∞–Ω–∫ ${powerbank.serial_number} –Ω–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º ${powerbank.user_id}`);
  });
}
```

4. –ü–æ–ª—É—á–∏—Ç—å —Å–≤–æ–¥–∫—É –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º:
```javascript
const response = await fetch('/api/powerbanks-status/summary');
const data = await response.json();

if (data.success) {
  const summary = data.data;
  console.log(`–í —Å—Ç–∞–Ω—Ü–∏–∏: ${summary.in_station}`);
  console.log(`–í –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏: ${summary.in_use}`);
  console.log(`–ù–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω—ã: ${summary.not_returned}`);
}
```

5. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –≥—Ä—É–ø–ø–µ:
```javascript
const response = await fetch('/api/powerbanks-status?org_unit_id=1&status=in_use');
const data = await response.json();

if (data.success) {
  console.log(`–ü–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ –≥—Ä—É–ø–ø—ã 1 –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏: ${data.data.length}`);
}
```

6. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤ –≤ UI:
```javascript
const getStatusDisplay = (status) => {
  switch (status) {
    case 'in_station':
      return { text: '–í —Å—Ç–∞–Ω—Ü–∏–∏', color: 'green', icon: 'üè™' };
    case 'in_use':
      return { text: '–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è', color: 'blue', icon: 'üîã' };
    case 'not_returned':
      return { text: '–ù–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω', color: 'red', icon: '‚ö†Ô∏è' };
    default:
      return { text: '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–æ', color: 'gray', icon: '‚ùì' };
  }
};

const renderPowerbankStatus = (powerbank) => {
  const statusInfo = getStatusDisplay(powerbank.status);
  return `
    <div class="powerbank-card">
      <span class="status-icon">${statusInfo.icon}</span>
      <span class="serial">${powerbank.serial_number}</span>
      <span class="status" style="color: ${statusInfo.color}">
        ${statusInfo.text}
      </span>
    </div>
  `;
};
```

–û–ë–†–ê–ë–û–¢–ö–ê –û–®–ò–ë–û–ö
================

1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–≤–µ—Ç–∞:
```javascript
const response = await fetch('/api/powerbanks/status');
if (!response.ok) {
  const error = await response.json();
  console.error('–û—à–∏–±–∫–∞ API:', error.error);
  return;
}
```

2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
```javascript
try {
  const response = await fetch('/api/powerbanks/status?status=invalid_status');
  const data = await response.json();
  
  if (!data.success) {
    alert(`–û—à–∏–±–∫–∞: ${data.error}`);
  }
} catch (error) {
  console.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏:', error);
}
```

3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—É—Å—Ç—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
```javascript
const response = await fetch('/api/powerbanks/status?status=in_use');
const data = await response.json();

if (data.success && data.data.length === 0) {
  console.log('–ù–µ—Ç –ø–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏');
} else if (data.success) {
  console.log(`–ù–∞–π–¥–µ–Ω–æ ${data.data.length} –ø–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤ –≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏`);
}
```

–ù–ê–°–¢–†–û–ô–ö–ê –í–†–ï–ú–ï–ù–ò –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–Ø
=============================

–í—Ä–µ–º—è, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–≤–µ—Ä–±–∞–Ω–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è "–Ω–µ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–Ω—ã–º", –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ org_unit –≤ –ø–æ–ª–µ reminder_hours:

```sql
-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –≥—Ä—É–ø–ø—ã (–≤ —á–∞—Å–∞—Ö)
UPDATE org_unit SET reminder_hours = 48 WHERE org_unit_id = 1;

-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –ø–æ–¥–≥—Ä—É–ø–ø—ã
UPDATE org_unit SET reminder_hours = 12 WHERE org_unit_id = 2;
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é reminder_hours = 24 —á–∞—Å–∞.

–û–ë–†–ê–¢–ù–ê–Ø –°–û–í–ú–ï–°–¢–ò–ú–û–°–¢–¨
======================

–î–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:

- GET /api/powerbanks/status - —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç GET /api/powerbanks-status
- GET /api/powerbanks/status/summary - —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç GET /api/powerbanks-status/summary  
- GET /api/powerbanks/{powerbank_id}/status - —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç GET /api/powerbanks-status/{powerbank_id}

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ —Å –¥—Ä—É–≥–∏–º–∏ API.

–í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø
================

1. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ v_powerbank_status –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–≤–µ—Ä–±–∞–Ω–∫–æ–≤. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é.

2. **–ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö**: –°—Ç–∞—Ç—É—Å—ã –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.

3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –í—Å–µ —Ñ–∏–ª—å—Ç—Ä—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.

4. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω 100 –∑–∞–ø–∏—Å—è–º–∏ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

5. **–°—Ç–∞—Ç—É—Å "not_returned"**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏ –≤–∑—è—Ç–∏—è –ø–æ–≤–µ—Ä–±–∞–Ω–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≥—Ä—É–ø–ø—ã.
